{% extends 'base_startup.html' %}
{% block content %}

<!-- Back button -->
<a href="{% url 'startup:funding_list' %}" class="btn btn-secondary back-btn">&larr; Back to Funding Rounds</a>

<div class="panel">
    <h2>{{ funding.round_name }}</h2>

    <div class="detail-row">
        <span class="label">Startup:</span>
        <span class="value">{{ funding.startup.startup_name }}</span>
    </div>

    <div class="detail-row">
        <span class="label">Investor:</span>
        <span class="value">
            {% if funding.all_investors %}
            <span class="badge all-investors">All Investors</span>
            {% else %}
            {{ funding.investor.user.username }}
            {% endif %}
        </span>
    </div>

    <div class="detail-row">
        <span class="label">Amount:</span>
        <span class="value">${{ funding.amount|floatformat:2 }}</span>
    </div>

    <div class="detail-row">
        <span class="label">Status:</span>
        <span class="value">
            {% if funding.status == 'PENDING' %}
            <span class="badge pending">Pending</span>
            {% elif funding.status == 'REQUESTED' %}
            <span class="badge requested">Requested</span>
            {% elif funding.status == 'APPROVED' %}
            <span class="badge approved">Approved</span>
            {% elif funding.status == 'REJECTED' %}
            <span class="badge rejected">Rejected</span>
            {% endif %}
        </span>
    </div>

    <div class="detail-row">
        <span class="label">Date:</span>
        <span class="value">{{ funding.date }}</span>
    </div>

    <div class="actions">
        <a href="{% url 'startup:update_funding' funding.id %}" class="btn btn-primary">Edit</a>
        <a href="{% url 'startup:delete_funding' funding.id %}" class="btn btn-danger">Delete</a>
    </div>
</div>

<style>
    /* Back button */
    .back-btn {
        display: inline-block;
        margin: 20px auto 10px auto;
        padding: 8px 15px;
        border-radius: 8px;
        background: #607d8b;
        color: #fff;
        text-decoration: none;
    }

    .back-btn:hover {
        background: #455a64;
    }

    /* Panel */
    .panel {
        max-width: 700px;
        margin: 0 auto 30px auto;
        background: #f7f7f7;
        padding: 25px 30px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    h2 {
        margin-bottom: 20px;
        font-size: 1.8rem;
        color: #1976d2;
    }

    .detail-row {
        display: flex;
        margin-bottom: 12px;
        align-items: center;
    }

    .label {
        font-weight: 600;
        width: 120px;
        color: #555;
    }

    .value {
        font-weight: 500;
        color: #333;
    }

    .badge {
        padding: 3px 10px;
        border-radius: 6px;
        font-size: 0.85rem;
        color: #fff;
    }

    .all-investors {
        background: #ff9800;
    }

    .pending {
        background: #9e9e9e;
    }

    .requested {
        background: #607d8b;
    }

    .approved {
        background: #4caf50;
    }

    .rejected {
        background: #f44336;
    }

    .actions {
        margin-top: 20px;
    }

    .actions .btn {
        padding: 8px 15px;
        border-radius: 8px;
        text-decoration: none;
        color: #fff;
        margin-right: 10px;
    }

    .btn-primary {
        background: #1976d2;
    }

    .btn-primary:hover {
        background: #1565c0;
    }

    .btn-danger {
        background: #f44336;
    }

    .btn-danger:hover {
        background: #d32f2f;
    }  
    .main-content {
        margin-left: 270px;
        /* keep spacing for cards/charts from sidebar */
        padding: 15px 30px 30px 30px;
        /* less top padding */
    }
    
</style>
{% endblock %}