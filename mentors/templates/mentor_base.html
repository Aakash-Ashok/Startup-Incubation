<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}SubHub Mentor Portal{% endblock %}</title>

  <style>
    /* ======================================
       ðŸŽ¨ TEAL-ONLY MODERN THEME (no orange)
       ====================================== */
    :root {
      --g1: #f2fffb;
      --g2: #e6fbf6;
      --g3: #baf3e8;
      --g4: #8fe6d8;

      --accent-teal: #08a094;
      --accent-teal-dark: #067d73;

      --text: #1f2d2d;
      --muted: #697f7f;

      --sidebar-bg: rgba(255,255,255,0.18);
      --sidebar-border: rgba(0,0,0,0.08);

      --card-bg: rgba(255,255,255,0.92);
      --focus-ring: rgba(8,160,148,0.14);
      --btn-shadow: rgba(8,160,148,0.12);
    }

    html, body {
      margin: 0;
      height: 100%;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--text);
    }

    body {
      background: linear-gradient(145deg, var(--g1) 0%, var(--g2) 35%, var(--g3) 65%, var(--g4) 100%);
      min-height: 100vh;
      display: flex;
    }

    /* Layout */
    .app-shell {
      display: flex;
      width: 100%;
      padding: 26px;
      gap: 24px;
      box-sizing: border-box;
    }

    /* Sidebar */
    .sidebar {
      width: 260px;
      min-width: 260px;
      padding: 20px;
      background: var(--sidebar-bg);
      backdrop-filter: blur(12px);
      border-radius: 16px;
      border: 1px solid var(--sidebar-border);
      box-shadow: 0 8px 30px rgba(0,0,0,0.06);
      display: flex;
      flex-direction: column;
      transition: width .3s ease;
    }

    .sidebar.collapsed {
      width: 85px;
      min-width: 85px;
      padding: 20px 12px;
    }

    /* Brand */
    .brand {
      font-weight: 900;
      font-size: 19px;
      color: var(--accent-teal);
      margin-bottom: 22px;
      padding: 6px 4px;
      white-space: nowrap;
      transition: .3s;
    }

    .sidebar.collapsed .brand {
      opacity: 0;
      pointer-events: none;
      height: 0;
      margin: 0;
      overflow: hidden;
    }

    /* Nav */
    .side-nav {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .side-nav a {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 12px;
      text-decoration: none;
      color: var(--text);
      font-weight: 700;
      border-radius: 12px;
      transition: .25s ease;
      white-space: nowrap;
    }

    .side-nav a svg {
      width: 20px;
      height: 20px;
      stroke: currentColor;
      stroke-width: 2;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .side-nav a:hover {
      background: rgba(255,255,255,0.32);
      color: var(--accent-teal);
    }

    .side-nav a.active {
      background: rgba(255,255,255,0.38);
      border-left: 4px solid var(--accent-teal);
      padding-left: 8px;
      color: var(--accent-teal);
    }

    /* Sidebar footer */
    .sidebar-footer {
      margin-top: auto;
      padding-top: 14px;
      border-top: 1px solid rgba(0,0,0,0.07);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .profile-thumb {
      width: 46px;
      height: 46px;
      border-radius: 10px;
      background: #fff;
      box-shadow: 0 4px 18px rgba(0,0,0,0.1);
    }

    .collapse-btn {
      margin-left: auto;
      background: transparent;
      border: none;
      cursor: pointer;
      color: var(--muted);
      font-size: 18px;
    }

    .collapse-btn:hover {
      color: var(--accent-teal);
    }

    /* Main */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .main-title {
      font-size: 22px;
      font-weight: 900;
      margin-bottom: 6px;
    }

    .muted {
      color: var(--muted);
      font-size: 13px;
    }

    .container {
      background: var(--card-bg);
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 16px 40px rgba(0,0,0,0.04);
      min-height: 200px;
    }

    /* Responsive */
    @media (max-width: 1000px) {
      .sidebar { display: none; }
      .app-shell { padding: 16px; }
    }
  </style>
</head>
<body>

<div class="app-shell">

  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar">
    <div class="brand">SubHub Mentor Portal</div>

    <nav class="side-nav">

      <!-- Dashboard -->
      <a href="{% url 'mentors:dashboard' %}" class="{% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
        <svg viewBox="0 0 24 24">
          <path d="M3 12l9-9 9 9" />
          <path d="M9 21V12h6v9" />
        </svg>
        Dashboard
      </a>

      <!-- Sessions -->
      <a href="{% url 'mentors:mentorship_sessions' %}" class="{% if request.resolver_match.url_name == 'mentorship_sessions' %}active{% endif %}">
        <svg viewBox="0 0 24 24">
          <line x1="8" y1="6" x2="21" y2="6" />
          <line x1="8" y1="12" x2="21" y2="12" />
          <line x1="8" y1="18" x2="21" y2="18" />
          <circle cx="4" cy="6" r="1" />
          <circle cx="4" cy="12" r="1" />
          <circle cx="4" cy="18" r="1" />
        </svg>
        Sessions
      </a>

      <!-- Profile -->
      <a href="{% url 'mentors:mentor_profile' %}" class="{% if request.resolver_match.url_name == 'mentor_profile' %}active{% endif %}">
        <svg viewBox="0 0 24 24">
          <circle cx="12" cy="7" r="4" />
          <path d="M5.5 21a6.5 6.5 0 0 1 13 0" />
        </svg>
        Profile
      </a>

      <!-- Logout -->
      <a href="{% url 'logout' %}" class="{% if request.resolver_match.url_name == 'logout' %}active{% endif %}">
        <svg viewBox="0 0 24 24">
          <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
          <polyline points="10 17 15 12 10 7" />
          <line x1="15" y1="12" x2="3" y2="12" />
        </svg>
        Logout
      </a>

    </nav>

    <div class="sidebar-footer">
      <div class="profile-thumb"></div>
      <div>
        <div style="font-weight:700">{{ request.user.username }}</div>
        <div class="muted">{{ request.user.email }}</div>
      </div>
      <button id="collapseBtn" class="collapse-btn">â‰¡</button>
    </div>
  </aside>

  <!-- Main -->
  <main class="main">
    <div>
      <div class="main-title">{% block page_title %}{% endblock %}</div>
      <div class="muted">{% block page_subtitle %}{% endblock %}</div>
    </div>

    <div class="container">
      {% block content %}{% endblock %}
    </div>

    {% block below_content %}{% endblock %}
  </main>

</div>

<script>
  const sidebar = document.getElementById("sidebar");
  const collapseBtn = document.getElementById("collapseBtn");

  collapseBtn.onclick = () => {
    sidebar.classList.toggle("collapsed");
  };
</script>

</body>
</html>
